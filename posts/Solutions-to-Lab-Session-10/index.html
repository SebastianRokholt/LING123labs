<!DOCTYPE html><html lang="en-US" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Solutions to Exercises from Lab Session 10" /><meta name="author" content="Sebastian Einar Røkholt" /><meta property="og:locale" content="en_US" /><meta name="description" content="This website contains exercises and other educational resources for LING123: Language and Computers. The course is available for students at the University of Bergen, and is held at the Institute of Department of Linguistic, Literary and Aesthetic Studies." /><meta property="og:description" content="This website contains exercises and other educational resources for LING123: Language and Computers. The course is available for students at the University of Bergen, and is held at the Institute of Department of Linguistic, Literary and Aesthetic Studies." /><link rel="canonical" href="https://ling123labs.com/posts/Solutions-to-Lab-Session-10/" /><meta property="og:url" content="https://ling123labs.com/posts/Solutions-to-Lab-Session-10/" /><meta property="og:site_name" content="LING123 Lab Sessions" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-04-25T16:40:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Solutions to Exercises from Lab Session 10" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Sebastian Einar Røkholt"},"headline":"Solutions to Exercises from Lab Session 10","dateModified":"2021-04-29T20:40:14+02:00","datePublished":"2021-04-25T16:40:00+02:00","description":"This website contains exercises and other educational resources for LING123: Language and Computers. The course is available for students at the University of Bergen, and is held at the Institute of Department of Linguistic, Literary and Aesthetic Studies.","url":"https://ling123labs.com/posts/Solutions-to-Lab-Session-10/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ling123labs.com/posts/Solutions-to-Lab-Session-10/"},"@context":"https://schema.org"}</script><title>Solutions to Exercises from Lab Session 10 | LING123 Lab Sessions</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://www.uib.no/sites/w3.uib.no/files/styles/large/public/w2/ui/uib_logo_1.jpg?itok=LjwYKlGn" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">LING123 Lab Sessions</a></div><div class="site-subtitle font-italic">Educational rescources for the LING123 lab sessions, <br>spring 2021</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://www.linkedin.com/in/sebastianrokholt/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://github.com/SebastianRokholt" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sebastian.rokholt','student.uib.no'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Solutions to Exercises from Lab Session 10</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Solutions to Exercises from Lab Session 10</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Apr 25, 2021, 4:40 PM +0200" > Apr 25 <i class="unloaded">2021-04-25T16:40:00+02:00</i> </span> by <span class="author"> Sebastian Einar Røkholt </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Apr 29, 2021, 8:40 PM +0200" > Apr 29 <i class="unloaded">2021-04-29T20:40:14+02:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1367 words">7 min</span></div></div><div class="post-content"><p><br /></p><p>Disclaimer: You should always attempt to solve the lab exercises by yourself before looking at the proposed solutions below. The exercises to Lab Session 10 are available in their entirety <a href="https://ling123labs.com/posts/Lab-Session-10/">here</a>. <br /></p><blockquote><p><strong><em><a href="https://lingkurs.h.uib.no/webroot/index.php?page=python/levenshtein&amp;lang=en&amp;course=ling123">Link to relevant lecture notes</a></em></strong></p></blockquote><p><em>Disagree with my solutions, or have something to add? <br /> Leave a <a href="#post-extend-wrapper">comment</a>!</em> <br /> <br /></p><hr /><p><br /></p><h3 id="exercise-11-minimum-edit-distance-levenshtein-">Exercise 1.1: Minimum edit distance (Levenshtein) <br /></h3><p><em>The Levenshtein function uses the same cost of 1 for all edits. One could argue that a substitution is a combination of a deletion and an insertion, so it should be more costly. Change the program so that a substitution has a cost of 2, and test for different strings.</em><br /></p><p>To solve this exercise you simply need to edit the cost for substitutions, <code class="language-plaintext highlighter-rouge">lsub</code>, from 1 to 2 like this:</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="c1"># Script name: levenshtein.py
</span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">lru_cache</span>


<span class="o">@</span><span class="n">lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">4095</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">levenshtein_dist</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">string</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">target</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">string</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">levenshtein_dist</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">target</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

    <span class="n">lins</span> <span class="o">=</span> <span class="n">levenshtein_dist</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">target</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">lsub</span> <span class="o">=</span> <span class="n">levenshtein_dist</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">target</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="o">+</span> <span class="mi">2</span>  <span class="c1"># change this from 1 to 2
</span>    <span class="n">ldel</span> <span class="o">=</span> <span class="n">levenshtein_dist</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">target</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">lins</span><span class="p">,</span> <span class="n">lsub</span><span class="p">,</span> <span class="n">ldel</span><span class="p">)</span>


<span class="k">print</span><span class="p">(</span><span class="n">levenshtein_dist</span><span class="p">(</span><span class="s">"graffe"</span><span class="p">,</span> <span class="s">"giraffe"</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">levenshtein_dist</span><span class="p">(</span><span class="s">"allowed"</span><span class="p">,</span> <span class="s">"aloud"</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">levenshtein_dist</span><span class="p">(</span><span class="s">"fined"</span><span class="p">,</span> <span class="s">"fine"</span><span class="p">))</span>
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>python levenshtein.py
1
4
1
</pre></table></code></div></div><p><br /></p><h3 id="exercise-12-recursive-functions-">Exercise 1.2: Recursive functions <br /></h3><p><em>a) Write a Python function that recursively reverses an input string.</em> <br /></p><p>The trick to solving this exercise is to realize the foundations of recursion. If you don’t have a good grasp of recursion yet, I advise you to check out my <a href="https://ling123labs.com/posts/Lab-Session-10/">lab post</a> on recursion before proceeding. <br /></p><p>When we want to reverse a string with recursion, we need to figure out the base case and the recursive case. Now, the base case would be an empty string, right? Because then we could just return the string unchanged, because the reverse of an empty string is still just an empty string.<br /></p><p>Then there’s the recursive case. If we move through the string from left to right, one character at the time, we can simply extract the character from the string and add it to the end of whatever the result would be. So for the first letter in “Hello world”, we would just remove it from the string and rerun the whole function with just “ello world”, then add the “H” to the end of the result to be returned at the end. The same goes for every other letter in the string, and the same goes for all other possible strings. The algorithm is the same. <br /></p><p>We can implement our solution like this: <br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="c1"># Script name: reverse_string.py
</span><span class="k">def</span> <span class="nf">reverse_string</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="c1"># Base case
</span>    <span class="k">if</span> <span class="n">string</span> <span class="o">==</span> <span class="s">""</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">string</span>

    <span class="c1"># Recursive case
</span>    <span class="k">return</span> <span class="n">reverse_string</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="o">+</span> <span class="n">string</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


<span class="c1"># Test
</span><span class="k">print</span><span class="p">(</span><span class="s">'Original string: "Hello world"'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Reversed string: </span><span class="si">{</span><span class="n">reverse_string</span><span class="p">(</span><span class="s">"hello world"</span><span class="p">)</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span>python reverse_string.py
Original string: <span class="s2">"Hello world"</span>
Reversed string: dlrow olleh
</pre></table></code></div></div><p>As a side note, we can use what we just learned to validate palindromes, like this: <br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="c1"># Side note: Using recursive string reversion to validate for palindromes
</span><span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s">""</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">reverse</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">is_palindrome</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">string</span> <span class="o">==</span> <span class="n">reverse</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>


<span class="k">print</span><span class="p">(</span><span class="n">is_palindrome</span><span class="p">(</span><span class="s">"racecar"</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">is_palindrome</span><span class="p">(</span><span class="s">"word"</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">is_palindrome</span><span class="p">(</span><span class="s">"saippuakivikauppias"</span><span class="p">))</span>
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>python palindromes.py
True
False
True
</pre></table></code></div></div><p><br /></p><p><em>b) Create a function that recursively counts the number of vowels in a string.</em> <br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="c1"># Script name: count_vowels.py
</span>

<span class="k">def</span> <span class="nf">count_vowels</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>

    <span class="c1"># Base case
</span>    <span class="k">if</span> <span class="n">length</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">string</span><span class="p">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">,</span> <span class="s">'i'</span><span class="p">,</span> <span class="s">'o'</span><span class="p">,</span> <span class="s">'u'</span><span class="p">]:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="c1"># Recursive case
</span>    <span class="n">vowels_a</span> <span class="o">=</span> <span class="n">count_vowels</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">length</span> <span class="o">//</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">vowels_b</span> <span class="o">=</span> <span class="n">count_vowels</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="n">length</span> <span class="o">//</span> <span class="mi">2</span><span class="p">:</span><span class="n">length</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">vowels_a</span> <span class="o">+</span> <span class="n">vowels_b</span>


<span class="c1"># test
</span><span class="k">print</span><span class="p">(</span><span class="n">count_vowels</span><span class="p">(</span><span class="s">"Abacus"</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">count_vowels</span><span class="p">(</span><span class="s">"I am the one who knocks"</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">count_vowels</span><span class="p">(</span><span class="s">"The quick brown fox jumps over the lazy dog"</span><span class="p">))</span>
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>python count_vowels.py
3
7
11
</pre></table></code></div></div><p><br /></p><h2 id="part-2-introduction-to-xslt">Part 2: Introduction to XSLT</h2><h3 id="exercise-21-filtering-xml-with-xslt">Exercise 2.1: Filtering XML with XSLT</h3><p>Look at the examples in the <a href="https://lingkurs.h.uib.no/webroot/index.php?page=xml/xsl-filtering&amp;lang=en&amp;course=ling123">lecture notes</a>. <br /> <em>a) Try formatting words and tags in other ways.</em><br /></p><div class="language-xml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;xsl:stylesheet</span> <span class="na">xmlns:xsl=</span><span class="s">"http://www.w3.org/1999/XSL/Transform"</span> <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
 <span class="nt">&lt;xsl:output</span> <span class="na">method=</span><span class="s">"text"</span> <span class="nt">/&gt;</span>

 <span class="nt">&lt;xsl:template</span> <span class="na">match=</span><span class="s">"w"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;xsl:apply-templates/&gt;</span>
  <span class="nt">&lt;xsl:text&gt;</span> (<span class="nt">&lt;/xsl:text&gt;</span>
  <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"@pos"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;xsl:text&gt;</span>) <span class="nt">&lt;/xsl:text&gt;</span>
 <span class="nt">&lt;/xsl:template&gt;</span>

 <span class="nt">&lt;xsl:template</span> <span class="na">match=</span><span class="s">"text()"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"normalize-space(.)"</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;/xsl:template&gt;</span>

<span class="nt">&lt;/xsl:stylesheet&gt;</span>
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span>xsltproc convert-tags.xsl lofoten.xml
Lofoten <span class="o">(</span>NP0<span class="o">)</span> has <span class="o">(</span>VHZ<span class="o">)</span> an <span class="o">(</span>AT0<span class="o">)</span> abundant <span class="o">(</span>AJ0<span class="o">)</span> selection <span class="o">(</span>NN1<span class="o">)</span> of <span class="o">(</span>PRF<span class="o">)</span> birds <span class="o">(</span>NN2<span class="o">)</span> <span class="nb">.</span> <span class="o">(</span>SENT<span class="o">)</span> We <span class="o">(</span>PNP<span class="o">)</span> meet <span class="o">(</span>VVB<span class="o">)</span> birds <span class="o">(</span>NN2<span class="o">)</span> from <span class="o">(</span>PRP<span class="o">)</span> the <span class="o">(</span>AT0<span class="o">)</span> forest <span class="o">(</span>NN1<span class="o">)</span> , <span class="o">(</span>PUN<span class="o">)</span> moors <span class="o">(</span>NN2<span class="o">)</span> , <span class="o">(</span>PUN<span class="o">)</span> highlands <span class="o">(</span>NN2<span class="o">)</span> , <span class="o">(</span>PUN<span class="o">)</span> sea <span class="o">(</span>NN1<span class="o">)</span> and <span class="o">(</span>CJC<span class="o">)</span> ocean <span class="o">(</span>NN1<span class="o">)</span> , <span class="o">(</span>PUN<span class="o">)</span> and <span class="o">(</span>CJC<span class="o">)</span> many <span class="o">(</span>DT0<span class="o">)</span> species <span class="o">(</span>NN0<span class="o">)</span> which <span class="o">(</span>DTQ<span class="o">)</span> migrate <span class="o">(</span>VVB<span class="o">)</span> past <span class="o">(</span>AV0<span class="o">)</span> Lofoten <span class="o">(</span>VVB<span class="o">)</span> every <span class="o">(</span>AT0<span class="o">)</span> spring <span class="o">(</span>NN1<span class="o">)</span> and <span class="o">(</span>CJC<span class="o">)</span> autumn <span class="o">(</span>NN1<span class="o">)</span> <span class="nb">.</span> <span class="o">(</span>SENT<span class="o">)</span> The <span class="o">(</span>AT0<span class="o">)</span> white-tailed <span class="o">(</span>AJ0<span class="o">)</span> eagle <span class="o">(</span>NN1<span class="o">)</span> flourishes <span class="o">(</span>NN2<span class="o">)</span> <span class="k">in</span> <span class="o">(</span>PRP<span class="o">)</span> Lofoten <span class="o">(</span>NP0<span class="o">)</span> , <span class="o">(</span>PUN<span class="o">)</span> and <span class="o">(</span>CJC<span class="o">)</span> the <span class="o">(</span>AT0<span class="o">)</span> area <span class="o">(</span>NN1<span class="o">)</span> has <span class="o">(</span>VHZ<span class="o">)</span> one <span class="o">(</span>CRD<span class="o">)</span> of <span class="o">(</span>PRF<span class="o">)</span> the <span class="o">(</span>AT0<span class="o">)</span> worlds <span class="o">(</span>NN2<span class="o">)</span> largest <span class="o">(</span>AJS<span class="o">)</span> stocks <span class="o">(</span>NN2<span class="o">)</span> <span class="nb">.</span> <span class="o">(</span>SENT<span class="o">)</span> Most <span class="o">(</span>DT0<span class="o">)</span> sea <span class="o">(</span>NN1<span class="o">)</span> bird <span class="o">(</span>NN1<span class="o">)</span> species <span class="o">(</span>NN0<span class="o">)</span> are <span class="o">(</span>VBB<span class="o">)</span> found <span class="o">(</span>VVN<span class="o">)</span> <span class="k">in</span> <span class="o">(</span>PRP<span class="o">)</span> this <span class="o">(</span>DT0<span class="o">)</span> region <span class="o">(</span>NN1<span class="o">)</span> : <span class="o">(</span>PUN<span class="o">)</span> razorbill <span class="o">(</span>VVB<span class="o">)</span> , <span class="o">(</span>PUN<span class="o">)</span> guillemot <span class="o">(</span>VVB<span class="o">)</span> , <span class="o">(</span>PUN<span class="o">)</span> cormorant <span class="o">(</span>NN1<span class="o">)</span> , <span class="o">(</span>PUN<span class="o">)</span> kittiwake <span class="o">(</span>NN1<span class="o">)</span> and <span class="o">(</span>CJC<span class="o">)</span> the <span class="o">(</span>AT0<span class="o">)</span> characteristic <span class="o">(</span>AJ0<span class="o">)</span> puffin <span class="o">(</span>NN1<span class="o">)</span> , <span class="o">(</span>PUN<span class="o">)</span> just <span class="o">(</span>AV0<span class="o">)</span> to <span class="o">(</span>TO0<span class="o">)</span> mention <span class="o">(</span>VVI<span class="o">)</span> a <span class="o">(</span>AT0<span class="o">)</span> few <span class="o">(</span>DT0<span class="o">)</span> <span class="nb">.</span> <span class="o">(</span>SENT<span class="o">)</span> Especially <span class="o">(</span>AV0<span class="o">)</span> the <span class="o">(</span>AT0<span class="o">)</span> farthest <span class="o">(</span>AJS<span class="o">)</span> islands <span class="o">(</span>NN2<span class="o">)</span> of <span class="o">(</span>PRF<span class="o">)</span> Vry <span class="o">(</span>NP0<span class="o">)</span> and <span class="o">(</span>CJC<span class="o">)</span> Rst <span class="o">(</span>NP0<span class="o">)</span> are <span class="o">(</span>VBB<span class="o">)</span> renowned <span class="o">(</span>AJ0<span class="o">)</span> <span class="k">for</span> <span class="o">(</span>PRP<span class="o">)</span> their <span class="o">(</span>DPS<span class="o">)</span> bird <span class="o">(</span>NN1<span class="o">)</span> colonies <span class="o">(</span>NN2<span class="o">)</span> and <span class="o">(</span>CJC<span class="o">)</span> bird <span class="o">(</span>NN1<span class="o">)</span> rocks <span class="o">(</span>NN2<span class="o">)</span> <span class="nb">.</span> <span class="o">(</span>SENT<span class="o">)</span> Hundreds <span class="o">(</span>CRD<span class="o">)</span> of <span class="o">(</span>PRF<span class="o">)</span> thousands <span class="o">(</span>CRD<span class="o">)</span> of <span class="o">(</span>PRF<span class="o">)</span> puffins <span class="o">(</span>NN2<span class="o">)</span> and <span class="o">(</span>CJC<span class="o">)</span> other <span class="o">(</span>AJ0<span class="o">)</span> sea <span class="o">(</span>NN1<span class="o">)</span> birds <span class="o">(</span>NN2<span class="o">)</span> can <span class="o">(</span>VM0<span class="o">)</span> be <span class="o">(</span>VBI<span class="o">)</span> heard <span class="o">(</span>VVN<span class="o">)</span> and <span class="o">(</span>CJC<span class="o">)</span> seen <span class="o">(</span>VVN<span class="o">)</span> here <span class="o">(</span>AV0<span class="o">)</span> , <span class="o">(</span>PUN<span class="o">)</span> joined <span class="o">(</span>VVN<span class="o">)</span> <span class="k">in</span> <span class="o">(</span>PRP<span class="o">)</span> a <span class="o">(</span>AT0<span class="o">)</span> colourful <span class="o">(</span>AJ0<span class="o">)</span> orchestra <span class="o">(</span>NN1<span class="o">)</span> <span class="nb">.</span> <span class="o">(</span>SENT<span class="o">)</span>
</pre></table></code></div></div><p><em>b) Try to reconstruct the plain text.</em> <br /></p><p>In this case, it’s challenging to reconstruct the plaintext perfectly. This is because we have to figure out how to delete the preceding whitespace for the various punctuation marks in the reconstructed text. Additonally, <code class="language-plaintext highlighter-rouge">xsltproc</code> struggles with the Norwegian characters [æøåÆØÅ]. So if you got the following output, that’s good enough.</p><div class="language-xml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;xsl:stylesheet</span> <span class="na">xmlns:xsl=</span><span class="s">"http://www.w3.org/1999/XSL/Transform"</span> <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
 <span class="nt">&lt;xsl:output</span> <span class="na">method=</span><span class="s">"text"</span> <span class="nt">/&gt;</span>

 <span class="nt">&lt;xsl:template</span> <span class="na">match=</span><span class="s">"w"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;xsl:apply-templates/&gt;</span>
  <span class="nt">&lt;xsl:text&gt;</span> <span class="nt">&lt;/xsl:text&gt;</span>
 <span class="nt">&lt;/xsl:template&gt;</span>

 <span class="nt">&lt;xsl:template</span> <span class="na">match=</span><span class="s">"text()"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"normalize-space(.)"</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;/xsl:template&gt;</span>

<span class="nt">&lt;/xsl:stylesheet&gt;</span>
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span>xsltproc reconstruct-plaintext.xsl lofoten.xml
Lofoten has an abundant selection of birds <span class="nb">.</span> We meet birds from the forest , moors , highlands , sea and ocean , and many species which migrate past Lofoten every spring and autumn <span class="nb">.</span> The white-tailed eagle flourishes <span class="k">in </span>Lofoten , and the area has one of the worlds largest stocks <span class="nb">.</span> Most sea bird species are found <span class="k">in </span>this region : razorbill , guillemot , cormorant , kittiwake and the characteristic puffin , just to mention a few <span class="nb">.</span> Especially the farthest islands of Vry and Rst are renowned <span class="k">for </span>their bird colonies and bird rocks <span class="nb">.</span> Hundreds of thousands of puffins and other sea birds can be heard and seen here , joined <span class="k">in </span>a colourful orchestra <span class="nb">.</span>
</pre></table></code></div></div><p>However, in order to get a result closer to the original text, we can additionally remove any whitespace preceding punctuation with a <code class="language-plaintext highlighter-rouge">sed</code> substitution, like this:</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span>xsltproc reconstruct-plaintext.xsl lofoten.xml | <span class="nb">sed</span> <span class="nt">-E</span> <span class="s2">"s/</span><span class="se">\s</span><span class="s2">([</span><span class="se">\.</span><span class="s2">,:])/</span><span class="se">\1</span><span class="s2">/g"</span>
Lofoten has an abundant selection of birds. We meet birds from the forest, moors, highlands, sea and ocean, and many species which migrate past Lofoten every spring and autumn. The white-tailed eagle flourishes <span class="k">in </span>Lofoten, and the area has one of the worlds largest stocks. Most sea bird species are found <span class="k">in </span>this region: razorbill, guillemot, cormorant, kittiwake and the characteristic puffin, just to mention a few. Especially the farthest islands of Vry and Rst are renowned <span class="k">for </span>their bird colonies and bird rocks. Hundreds of thousands of puffins and other sea birds can be heard and seen here, joined <span class="k">in </span>a colourful orchestra.
</pre></table></code></div></div><p><br /></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/solutions-to-lab-exercises/'>Solutions to Lab Exercises</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a> <a href="/tags/levenshtein/" class="post-tag no-text-decoration" >Levenshtein</a> <a href="/tags/nltk/" class="post-tag no-text-decoration" >nltk</a> <a href="/tags/xsltproc/" class="post-tag no-text-decoration" >xsltproc</a> <a href="/tags/xsl/" class="post-tag no-text-decoration" >xsl</a> <a href="/tags/xml/" class="post-tag no-text-decoration" >xml</a> <a href="/tags/xslt/" class="post-tag no-text-decoration" >xslt</a> <a href="/tags/transformation/" class="post-tag no-text-decoration" >transformation</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Solutions to Exercises from Lab Session 10 - LING123 Lab Sessions&url=https://ling123labs.com/posts/Solutions-to-Lab-Session-10/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Solutions to Exercises from Lab Session 10 - LING123 Lab Sessions&u=https://ling123labs.com/posts/Solutions-to-Lab-Session-10/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Solutions to Exercises from Lab Session 10 - LING123 Lab Sessions&url=https://ling123labs.com/posts/Solutions-to-Lab-Session-10/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Solutions-to-Lab-Session-13/">Solutions to Exercises from Lab Session 13</a><li><a href="/posts/Lab-Session-13/">Lab Session 13</a><li><a href="/posts/Solutions-to-Lab-Session-12/">Solutions to Exercises from Lab Session 12</a><li><a href="/posts/Solutions-to-Lab-Session-11/">Solutions to Exercises from Lab Session 11</a><li><a href="/posts/Solutions-to-Lab-Session-10/">Solutions to Exercises from Lab Session 10</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/shell/">shell</a> <a class="post-tag" href="/tags/regex/">regex</a> <a class="post-tag" href="/tags/bash/">bash</a> <a class="post-tag" href="/tags/awk/">awk</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/zsh/">zsh</a> <a class="post-tag" href="/tags/scripting/">scripting</a> <a class="post-tag" href="/tags/html/">html</a> <a class="post-tag" href="/tags/n-grams/">n-grams</a> <a class="post-tag" href="/tags/nltk/">nltk</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Lab-Session-10/"><div class="card-body"> <span class="timeago small" > Mar 24 <i class="unloaded">2021-03-24T11:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Lab Session 10</h3><div class="text-muted small"><p> Today, we’re going to finish up the curriculum tied to the section on Python programming in the course notes. Then we’re going to start with some XML processing using XSLT. PS: No labs will be...</p></div></div></a></div><div class="card"> <a href="/posts/Lab-Session-11/"><div class="card-body"> <span class="timeago small" > Apr 7 <i class="unloaded">2021-04-07T10:58:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Lab Session 11</h3><div class="text-muted small"><p> Welcome to Lab Session 11: Working with XSLT (and more regular expressions) Today there are two exercises about XSLT. When you finish these, there is also an exercise about extracting email addre...</p></div></div></a></div><div class="card"> <a href="/posts/Solutions-to-Lab-Session-11/"><div class="card-body"> <span class="timeago small" > Apr 29 <i class="unloaded">2021-04-29T15:40:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Solutions to Exercises from Lab Session 11</h3><div class="text-muted small"><p> Disclaimer: You should always attempt to solve the lab exercises by yourself before looking at the proposed solutions below. The exercises to Lab Session 11 are available in their entirety here. ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Solutions-to-Lab-Session-09/" class="btn btn-outline-primary" prompt="Older"><p>Solutions to Exercises from Lab Session 09</p></a> <a href="/posts/Solutions-to-Lab-Session-11/" class="btn btn-outline-primary" prompt="Newer"><p>Solutions to Exercises from Lab Session 11</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//https-sebastianrokholt-github-io-ling123labs.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Solutions to Exercises from Lab Session 10'; this.page.url = 'https://ling123labs.com/posts/Solutions-to-Lab-Session-10/'; this.page.identifier = '/posts/Solutions-to-Lab-Session-10/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/username">Sebastian Einar Røkholt</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."> Some rights reserved. </span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/shell/">shell</a> <a class="post-tag" href="/tags/regex/">regex</a> <a class="post-tag" href="/tags/bash/">bash</a> <a class="post-tag" href="/tags/awk/">awk</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/zsh/">zsh</a> <a class="post-tag" href="/tags/scripting/">scripting</a> <a class="post-tag" href="/tags/html/">html</a> <a class="post-tag" href="/tags/n-grams/">n grams</a> <a class="post-tag" href="/tags/nltk/">nltk</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://ling123labs.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
